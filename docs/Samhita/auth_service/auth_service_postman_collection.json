{
  "info": {
    "_postman_id": "auth-service-collection-001",
    "name": "Auth Service API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Comprehensive Postman collection for all endpoints in auth_service_app. Set the {{base_url}} variable to your API root (e.g. http://localhost:8000/auth_service_app/). For authenticated endpoints, use the access_token cookie from login."
  },
  "item": [
    {
      "name": "Register",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/register/", "host": [ "{{base_url}}" ], "path": [ "register/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"username\": \"john\",\n  \"email\": \"john@email.com\",\n  \"phone_number\": \"+919876543210\",\n  \"password\": \"StrongPass123!\",\n  \"user_type\": \"patient\"\n}"
        },
        "description": "Register a new user. user_type: patient, hospital, manufacturer, government, coordinator, admin."
      }
    },
    {
      "name": "Login",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/login/", "host": [ "{{base_url}}" ], "path": [ "login/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"username\": \"john\",\n  \"password\": \"StrongPass123!\"\n}"
        },
        "description": "Login user. On success, access_token and refresh_token are set as HttpOnly cookies. Use these cookies for subsequent authenticated requests."
      }
    },
    {
      "name": "Logout",
      "request": {
        "method": "POST",
        "header": [],
        "url": { "raw": "{{base_url}}/logout/", "host": [ "{{base_url}}" ], "path": [ "logout/" ] },
        "description": "Logout user. Requires authentication (access_token cookie)."
      }
    },
    {
      "name": "Get Profile",
      "request": {
        "method": "GET",
        "header": [],
        "url": { "raw": "{{base_url}}/profile/", "host": [ "{{base_url}}" ], "path": [ "profile/" ] },
        "description": "Get user profile. Requires authentication (access_token cookie)."
      }
    },
    {
      "name": "Update Profile",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/profile/update/", "host": [ "{{base_url}}" ], "path": [ "profile", "update/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"new@email.com\",\n  \"organization_name\": \"New Org\"\n}"
        },
        "description": "Update user profile. Partial update allowed. Requires authentication (access_token cookie)."
      }
    },
    {
      "name": "Change Password",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/change-password/", "host": [ "{{base_url}}" ], "path": [ "change-password/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"old_password\": \"StrongPass123!\",\n  \"new_password\": \"NewPass123!\"\n}"
        },
        "description": "Change password. Requires authentication (access_token cookie)."
      }
    },
    {
      "name": "Request OTP",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/request-otp/", "host": [ "{{base_url}}" ], "path": [ "request-otp/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"phone_number\": \"+919876543210\"\n}"
        },
        "description": "Request OTP for phone verification."
      }
    },
    {
      "name": "Verify OTP",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/verify-otp/", "host": [ "{{base_url}}" ], "path": [ "verify-otp/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"phone_number\": \"+919876543210\",\n  \"otp_code\": \"123456\"\n}"
        },
        "description": "Verify OTP for phone verification. Use the code received (default: 123456 in dev)."
      }
    },
    {
      "name": "Reset Password",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/reset-password/", "host": [ "{{base_url}}" ], "path": [ "reset-password/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"phone_number\": \"+919876543210\",\n  \"otp_code\": \"123456\",\n  \"new_password\": \"ResetPass123!\"\n}"
        },
        "description": "Reset password using OTP."
      }
    },
    {
      "name": "Get User Roles",
      "request": {
        "method": "GET",
        "header": [],
        "url": { "raw": "{{base_url}}/user-roles/", "host": [ "{{base_url}}" ], "path": [ "user-roles/" ] },
        "description": "Get user roles. Requires authentication (access_token cookie)."
      }
    },
    {
      "name": "Assign Role",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": { "raw": "{{base_url}}/assign-role/", "host": [ "{{base_url}}" ], "path": [ "assign-role/" ] },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"user_id\": 2,\n  \"role_id\": 1\n}"
        },
        "description": "Assign role to user. Requires authentication (admin access)."
      }
    },
    {
      "name": "Get Audit Logs",
      "request": {
        "method": "GET",
        "header": [],
        "url": { "raw": "{{base_url}}/audit-logs/", "host": [ "{{base_url}}" ], "path": [ "audit-logs/" ] },
        "description": "Get audit logs for user. Requires authentication (access_token cookie)."
      }
    }
  ],
  "variable": [
    { "key": "base_url", "value": "http://localhost:8000/auth_service_app" }
  ]
} 